!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Paginator=n()}(this,function(){"use strict";var t=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,a,i){return a&&t(n.prototype,a),i&&t(n,i),n}}();return function(){function a(n){var i=n.el,e=n.onChange,u=void 0===e?function(){}:e,o=n.aroundNum,r=void 0===o?1:o,s=n.sideNum,l=void 0===s?2:s,d=n.total,f=void 0===d?0:d,c=n.page,h=void 0===c?0:c;t(this,a),this.paginatorInit=function(){var t=this;this.paginatorInit=function(){},i.addEventListener("click",function(n){var a=n.target;if("A"===a.tagName){var i=1*a.dataset.index;t.currPage!==i&&(t.build(i),u(i),t.currPage=i)}})},this.currPage=-1,this.total=f,this.el=i,this.aroundNum=r,this.sideNum=l,this.build(h)}return n(a,[{key:"buildBase",value:function(t){var n=t.pageIndex,a=t.total,i=t.aroundNum,e=t.sideNum,u=[];if(a<2*(i+e)+1+1)for(var o=0;o<a;o++)u.push(o);else{for(var r=[],s=[],l=i;l--;)r.unshift(l),s.push(a-l-1);var d=r[i-1],f=n-e,c=s[0],h=n+e,p=0;f-d<2?(s.unshift(null),p=d-f+1):c-h<2?(r.push(null),p=c-h-1):(s.unshift(null),r.push(null));for(var v=[n+p],g=0;g<e;g++)v.unshift(n-g-1+p),v.push(n+g+1+p);u=r.concat(v.concat(s))}return u}},{key:"build",value:function(t){this.paginatorInit();var n=this.total,a=this.buildBase({pageIndex:t,total:n,aroundNum:this.aroundNum,sideNum:this.sideNum}),i="";i+=t>0?'<a data-index="'+(t-1)+'">&lt;</a>':"<span>&lt;</span>",a.forEach(function(n,a){var e="",u=n+1;null===n?i+="<span>...</span>":(n===t&&(e+=" active"),i+='<a data-index="'+n+'" class="'+e+'">'+u+"</a>")}),i+=t<n-1?'<a data-index="'+(t+1)+'">&gt;</a>':"<span>&gt;</span>",this.el.innerHTML=i}},{key:"totalInit",value:function(t){this.total=t,this.currPage=-1}}]),a}()});
